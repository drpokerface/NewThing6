<!DOCTYPE html>
<html>

<head>
 <meta charset='utf-8'>
 <meta http-equiv='X-UA-Compatible' content='IE=edge'>
 <title>VirtualGold</title>
<meta name="description" content="">
<meta name="author" content="">
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/animate.css">
<link rel="shortcut icon" type="image/png" href="images/v2.png" />		
<link rel="stylesheet" href="css/font-awesome.min.css">
<link rel="stylesheet" href="css/owl.theme.css">
<link rel="stylesheet" href="css/owl.carousel.css">

<!-- Main css -->
<link rel="stylesheet" href="css/style.css">

<!-- Google Font -->
<link href='https://fonts.googleapis.com/css?family=Poppins:400,500,600' rel='stylesheet' type='text/css'>
<script>
function myFunction() {
  var dots = document.getElementById("dots");
  var moreText = document.getElementById("more");
  var btnText = document.getElementById("myBtn");

  if (dots.style.display === "none") {
    dots.style.display = "inline";
    btnText.innerHTML = "Read Goldpaper"; 
    moreText.style.display = "none";
  } else {
    dots.style.display = "none";
    btnText.innerHTML = "Read Less"; 
    moreText.style.display = "inline";
  }
}
</script>
<style>
#more {display: none;}
</style>

 <!--<script src='node_modules/web3/dist/web3.min.js'></script>  <meta name='viewport' content='width=device-width, initial-scale=1'> -->
 <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>

</head>


<body data-spy="scroll" data-offset="50" data-target=".navbar-collapse" id="optionalstuff">


<!-- =========================
     PRE LOADER       
============================== -->
<div class="preloader">

	<!-- <div class="sk-rotating-plane"><img src="images/g1444.png" width="100" height="100"></div> -->

</div>


<!-- =========================
     NAVIGATION LINKS     
============================== -->
<div class="navbar navbar-fixed-top custom-navbar" role="navigation">
		<div class="container">


		<!-- navbar header -->
		<h5><img class="wow fadeIn" data-wow-delay="0s" src="images/vg.png" width="30" height="30"><span> </span><span class="wow fadeIn" data-wow-delay="0s" id='status' style="color:white" class="smoothScroll"></h5></span>
		<!--<div class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				<li><p id='account' style="color:white" class="smoothScroll"></p></li>
			</ul>
		</div> -->
			</div>


</div>

		
		
	




<div style="background-image: url('../images/img.png');">
<section id="detail" class="parallax-section">
	<div class="container">
		<div class="row">
				<div class="wow fadeIn"><center><img src="images/vg.png" width="97" height="97"></center><br>
				<center><h2><span style="color:#d4af37">Introducing Opinion Wars</span></h2></center></div><br>
			
			        <div class="col-sm-4" id="apple2"> <!--style="background-color:#eeeeee88; padding-top: 0px">-->
				<center><h1>DO YOU AGREE WITH THE TWEET</h1></center>
				<center><span style="font-size:24px">How strong do agree </span><input type="number" id="amount" autofocus="autofocus" onfocus="this.select()"/> <!--  <br><span style="font-size:24px"></span></center><br>  -->
				<center><h4><a  style="background-color:#4267b2; color:white" class="pay-button btn btn-lg btn-default smoothScroll" onclick="buyVirtualgold();">Vote</a></center></h4></center>
				<br><hr><br>
				<center><h1>OR DO YOU DIASGREE WITH IT</h1></center>
				<center><span style="font-size:24px">How strong do disagree </span><input type="number" id="amount" autofocus="autofocus" onfocus="this.select()"/><br><span style="font-size:24px"></span></center><br>
				<center><h4><a  style="background-color:#4267b2; color:white" class="pay-button btn btn-lg btn-default smoothScroll" onclick="buyVirtualgold();">Vote</a></center></h4></center>
				
				<!--<p>Please Note - 29% of investment is used as fees. See below to learn more</p> -->
			        </div>
		                <div class="col-sm-4" id="apple2"> <!--style="background-color:#eeeeee88; padding-top: 0px">-->
				<center><h1>DO YOU AGREE WITH THE TWEET</h1></center>
				<center><span style="font-size:24px">How strong do agree </span><input type="number" id="amount" autofocus="autofocus" onfocus="this.select()"/> <!--  <br><span style="font-size:24px"></span></center><br>  -->
				<center><h4><a  style="background-color:#4267b2; color:white" class="pay-button btn btn-lg btn-default smoothScroll" onclick="buyVirtualgold();">Vote</a></center></h4></center>
				<br><hr><br>
				<center><h1>OR DO YOU DIASGREE WITH IT</h1></center>
				<center><span style="font-size:24px">How strong do disagree </span><input type="number" id="amount" autofocus="autofocus" onfocus="this.select()"/><br><span style="font-size:24px"></span></center><br>
				<center><h4><a  style="background-color:#4267b2; color:white" class="pay-button btn btn-lg btn-default smoothScroll" onclick="buyVirtualgold();">Vote</a></center></h4></center>
				
				<!--<p>Please Note - 29% of investment is used as fees. See below to learn more</p> -->
			        </div>
	                        <div class="col-sm-4" id="apple2"> <!--style="background-color:#eeeeee88; padding-top: 0px">-->
				<center><h1>DO YOU AGREE WITH THE TWEET</h1></center>
				<center><span style="font-size:24px">How strong do agree </span><input type="number" id="amount" autofocus="autofocus" onfocus="this.select()"/> <!--  <br><span style="font-size:24px"></span></center><br>  -->
				<center><h4><a  style="background-color:#4267b2; color:white" class="pay-button btn btn-lg btn-default smoothScroll" onclick="buyVirtualgold();">Vote</a></center></h4></center>
				<br><hr><br>
				<center><h1>OR DO YOU DIASGREE WITH IT</h1></center>
				<center><span style="font-size:24px">How strong do disagree </span><input type="number" id="amount" autofocus="autofocus" onfocus="this.select()"/><br><span style="font-size:24px"></span></center><br>
				<center><h4><a  style="background-color:#4267b2; color:white" class="pay-button btn btn-lg btn-default smoothScroll" onclick="buyVirtualgold();">Vote</a></center></h4></center>
				
				<!--<p>Please Note - 29% of investment is used as fees. See below to learn more</p> -->
			        </div>
		</div>
	</div>
</section>
</div>







<!-- =========================
    SPONSORS SECTION   
============================== -->



<!-- =========================
    CONTACT SECTION   
============================== -->

<!-- =========================
    FOOTER SECTION   
============================== -->
<footer>
	<div class="container">
		<div class="row">

			<div class="col-md-12 col-sm-12">
				<center><p class="wow fadeIn" data-wow-delay="0.6s">Copyright &copy; 2020 Virtualgold 
                    

				<cetner><ul class="social-icon">
					<li><a style="color:#4267b2" href="https://t.me/VirtualGoldCommunity" class="fa fa-paper-plane wow fadeIn" data-wow-delay="0.3s"></a></li>
				</ul></center>

			</div>
			
		</div>
	</div>
</footer>


<!-- Back top -->
<a href="#back-top" class="go-top"><i class="fa fa-angle-up"></i></a>


<!-- =========================
     SCRIPTS   
============================== -->
<script src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.parallax.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/smoothscroll.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/custom.js"></script>
  <div>	  
    <div id="status"></div>
  </div>

 

 <script type="text/javascript">
 async function loadWeb3() {
 if (window.ethereum) {
 if (typeof web3 !== 'undefined') {
 window.web3 = new Web3(window.ethereum);
 }
 window.ethereum.enable();
 }
 }

 async function loadContract() {
 return await new window.web3.eth.Contract([
	{
	"inputs": [
	{
	"internalType": "address",
	"name": "referral",
	"type": "address"
	}
	],
	"name": "buyVirtualGold",
	"outputs": [
	{
	"internalType": "bool",
	"name": "",
	"type": "bool"
	}
	],
	"stateMutability": "payable",
	"type": "function"
	},
	{
	"inputs": [],
	"name": "endPresale",
	"outputs": [
	{
	"internalType": "bool",
	"name": "",
	"type": "bool"
	}
	],
	"stateMutability": "nonpayable",
	"type": "function"
	},
	{
	"inputs": [
	{
	"internalType": "uint256",
	"name": "amount",
	"type": "uint256"
	}
	],
	"name": "sellVirtualGold",
	"outputs": [
	{
	"internalType": "bool",
	"name": "",
	"type": "bool"
	}
	],
	"stateMutability": "nonpayable",
	"type": "function"
	},
	{
	"inputs": [],
	"name": "startSale",
	"outputs": [
	{
	"internalType": "bool",
	"name": "",
	"type": "bool"
	}
	],
	"stateMutability": "nonpayable",
	"type": "function"
	},
	{
	"inputs": [
	{
	"internalType": "uint256",
	"name": "amount",
	"type": "uint256"
	},
	{
	"internalType": "address",
	"name": "receiver",
	"type": "address"
	}
	],
	"name": "transferVirtualGold",
	"outputs": [
	{
	"internalType": "bool",
	"name": "",
	"type": "bool"
	}
	],
	"stateMutability": "nonpayable",
	"type": "function"
	},
	{
	"inputs": [],
	"stateMutability": "nonpayable",
	"type": "constructor"
	},
	{
	"inputs": [],
	"name": "getPrice",
	"outputs": [
	{
	"internalType": "uint256",
	"name": "",
	"type": "uint256"
	}
	],
	"stateMutability": "view",
	"type": "function"
	},
	{
	"inputs": [
	{
	"internalType": "address",
	"name": "account",
	"type": "address"
	}
	],
	"name": "getQuantity",
	"outputs": [
	{
	"internalType": "uint256",
	"name": "",
	"type": "uint256"
	}
	],
	"stateMutability": "view",
	"type": "function"
	}
], '0x7B42f8f66f088f0EEb817e17f95354b7B92f1fC3');
 }

 async function printCoolNumber() {
 const price = await window.contract.methods.getPrice().call();
 try {
   const account = await getCurrentAccount();
   const quantity = await window.contract.methods.getQuantity(account).call();
   console.log(quantity);

}
catch(err) {
  console.log('error');
}	 

 console.log(price);

 }

 async function getCurrentAccount() {
 const accounts = await window.web3.eth.getAccounts();
 return accounts[0];r
 }

 	async function sellVirtualgold() {
 const v = document.getElementById('sellAmount').value*1000000000;
 const account = await getCurrentAccount();
 if (account===undefined){
     updateStatus('Wallet Not Connected');
 }
 console.log(v);		
 const coolNumber = await window.contract.methods.sellVirtualGold(v).send({ from: account });
 }
	
	async function buyVirtualgold() {
 var reff;		
 if (window.location.href.includes("?")) {
  reff = window.location.href.substring(window.location.href.indexOf("?")+1);
} else {
  reff = '0x4560E75F1539466657a3Bf88209083ddE947015E';
}
 const v = document.getElementById('amount').value*1000000000000000000;
 console.log(reff);
 const account = await getCurrentAccount();
 if (account===undefined){
     updateStatus('Wallet Not Connected');
     window.scrollTo(0, 0);
 }
 const coolNumber = await window.contract.methods.buyVirtualGold(reff).send({ from: account, value: v,gasLimit: '100000'});
 }
	
	async function transferVirtualgold() {
 const value = document.getElementById('tamount').value*1000000000;
 const a = document.getElementById('rec').value
 const account = await getCurrentAccount();
 if (account===undefined){
     updateStatus('Wallet Not Connected');
 }
 const coolNumber = await window.contract.methods.transferVirtualGold(value,a).send({ from: account });
 } 

 async function load() {
 updateStatus('Wallet Not Installed')
 await loadWeb3();
 window.contract = await loadContract();
 updateStatus('Just Launched!');
 const account = await getCurrentAccount();
 var price = await window.contract.methods.getPrice().call()/1000000000;
 try {
   const account = await getCurrentAccount();
   var quantity = await window.contract.methods.getQuantity(account).call()/1000000000;
   console.log(quantity);
   var value = quantity*price;
   value = Math.round(value * 1000000000) / 1000000000
   document.getElementById("price2").innerHTML = quantity + ' grams';
   document.getElementById("price3").innerHTML = value + ' ETH';
	 


}
catch(err) {
  document.getElementById("price2").innerHTML = 'please connect wallet and refresh';
  document.getElementById("price3").innerHTML = 'please connect wallet and refresh';	
}	 
	 
 document.getElementById("price").innerHTML = price + ' ETH';
 console.log(account);
 document.getElementById("link").innerHTML = 'https://virtualgold.io/?'+account;
 if (account===undefined){
     document.getElementById("link").innerHTML = 'Please connect wallet and refresh the page';
 }else{
     updateStatus('Wallet Detected');
 }
 }
 window.onbeforeunload = function () {
  window.scrollTo(0, 0);
}

 function updateStatus(status) {
 const statusEl = document.getElementById('status');
 statusEl.innerHTML = status;
 console.log(status);
 }

 load();
 </script>
</body>

</html>
